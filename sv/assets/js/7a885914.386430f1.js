"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5762],{68(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"references/exceptions","title":"Exceptions Reference","description":"This library uses a comprehensive exception hierarchy to provide clear error messages and help with debugging. All exceptions implement the ColorExceptionInterface marker interface.","source":"@site/docs/references/exceptions.md","sourceDirName":"references","slug":"/references/exceptions","permalink":"/negarity-color/sv/docs/references/exceptions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Extractors Reference","permalink":"/negarity-color/sv/docs/references/extractors"},"next":{"title":"Adding New Color Spaces","permalink":"/negarity-color/sv/docs/extending/color-spaces"}}');var i=r(4848),s=r(8453);const t={},c="Exceptions Reference",l={},a=[{value:"Exception Hierarchy",id:"exception-hierarchy",level:2},{value:"Exception Types",id:"exception-types",level:2},{value:"InvalidColorValueException",id:"invalidcolorvalueexception",level:3},{value:"InvalidFormatException",id:"invalidformatexception",level:3},{value:"ColorSpaceNotFoundException",id:"colorspacenotfoundexception",level:3},{value:"ConversionNotSupportedException",id:"conversionnotsupportedexception",level:3},{value:"FilterNotFoundException",id:"filternotfoundexception",level:3},{value:"NamedColorNotFoundException",id:"namedcolornotfoundexception",level:3},{value:"UnsupportedColorSpaceException",id:"unsupportedcolorspaceexception",level:3},{value:"Exception Handling Best Practices",id:"exception-handling-best-practices",level:2},{value:"1. Register Required Components",id:"1-register-required-components",level:3},{value:"2. Check Before Converting",id:"2-check-before-converting",level:3},{value:"3. Handle CIE Operations",id:"3-handle-cie-operations",level:3},{value:"4. Validate Input Formats",id:"4-validate-input-formats",level:3},{value:"Logging and Debugging",id:"logging-and-debugging",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function d(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"exceptions-reference",children:"Exceptions Reference"})}),"\n",(0,i.jsxs)(n.p,{children:["This library uses a comprehensive exception hierarchy to provide clear error messages and help with debugging. All exceptions implement the ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})," marker interface."]}),"\n",(0,i.jsx)(n.h2,{id:"exception-hierarchy",children:"Exception Hierarchy"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\\Exception\n\u251c\u2500\u2500 \\InvalidArgumentException\n\u2502   \u2514\u2500\u2500 InvalidColorValueException\n\u2502   \u2514\u2500\u2500 InvalidFormatException\n\u2514\u2500\u2500 \\RuntimeException\n    \u251c\u2500\u2500 ColorSpaceNotFoundException\n    \u251c\u2500\u2500 ConversionNotSupportedException\n    \u251c\u2500\u2500 FilterNotFoundException\n    \u251c\u2500\u2500 NamedColorNotFoundException\n    \u2514\u2500\u2500 UnsupportedColorSpaceException\n"})}),"\n",(0,i.jsx)(n.h2,{id:"exception-types",children:"Exception Types"}),"\n",(0,i.jsx)(n.h3,{id:"invalidcolorvalueexception",children:"InvalidColorValueException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\InvalidArgumentException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a color channel value is invalid (out of range, wrong type, etc.)."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Channel value is outside the valid range (e.g., RGB channel > 255)"}),"\n",(0,i.jsx)(n.li,{children:"Channel value is not numeric"}),"\n",(0,i.jsx)(n.li,{children:"Channel does not exist in the color space"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'try {\n    $color = Color::rgb(300, 100, 50); // R channel out of range\n} catch (InvalidColorValueException $e) {\n    echo $e->getMessage();\n    // Output: Channel "r" must be between 0.00 and 255.00, got 300.00\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," In non-strict clamping mode, out-of-range values are allowed and clamped only on output, so this exception may not be thrown during construction."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"invalidformatexception",children:"InvalidFormatException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\InvalidArgumentException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a color format string is invalid or malformed."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Hex string has invalid length"}),"\n",(0,i.jsx)(n.li,{children:"Hex string contains invalid characters"}),"\n",(0,i.jsx)(n.li,{children:"Color string format is malformed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"try {\n    $color = Color::hex('GG'); // Invalid hex format\n} catch (InvalidFormatException $e) {\n    echo $e->getMessage();\n    // Output: Hex value must be 3 (rgb), 4 (rgba), 6 (rrggbb), or 8 (rrggbbaa) characters long. Got 2 characters.\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"colorspacenotfoundexception",children:"ColorSpaceNotFoundException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\RuntimeException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a requested color space is not registered in the registry."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Attempting to convert to an unregistered color space"}),"\n",(0,i.jsx)(n.li,{children:"Using a color space factory method before registering built-in color spaces"}),"\n",(0,i.jsx)(n.li,{children:"Accessing a color space that was never registered"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"try {\n    // Forgot to register color spaces\n    $color = Color::rgb(255, 100, 50);\n} catch (ColorSpaceNotFoundException $e) {\n    echo $e->getMessage();\n    // Output: Color space 'rgb' not registered.\n}\n\n// Solution: Register color spaces first\nColorSpaceRegistry::registerBuiltIn();\n$color = Color::rgb(255, 100, 50); // Now works\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"conversionnotsupportedexception",children:"ConversionNotSupportedException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\RuntimeException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a color space conversion is not supported or cannot be performed."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No direct conversion method exists between two color spaces"}),"\n",(0,i.jsx)(n.li,{children:"RGB conversion chain fails"}),"\n",(0,i.jsx)(n.li,{children:"Required conversion methods are missing"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"try {\n    $lab = Color::lab(50, 20, -30);\n    $cmyk = $lab->toCMYK(); // If conversion chain fails\n} catch (ConversionNotSupportedException $e) {\n    echo $e->getMessage();\n    // Output: Conversion from 'lab' to 'cmyk' is not supported. \n    //         Neither direct conversion methods nor RGB conversion chain are available.\n    //         Attempted methods: Direct method 'toCmyk' not found; Reverse method 'fromLab' not found; RGB conversion chain failed: ...\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Note:"})," The exception message includes details about which conversion methods were attempted, helping with debugging."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"filternotfoundexception",children:"FilterNotFoundException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\RuntimeException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a requested filter is not registered in the filter registry."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Using a filter that hasn't been registered"}),"\n",(0,i.jsx)(n.li,{children:"Typo in filter name"}),"\n",(0,i.jsx)(n.li,{children:"Filter was unregistered"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"try {\n    $color = Color::rgb(255, 100, 50);\n    $filtered = $color->brightness(20); // If brightness filter not registered\n} catch (FilterNotFoundException $e) {\n    echo $e->getMessage();\n    // Output: Filter 'brightness' not registered.\n}\n\n// Solution: Register filters first\nFilterRegistry::registerBuiltIn();\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"namedcolornotfoundexception",children:"NamedColorNotFoundException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\RuntimeException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a named color is not found in a named color registry."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Requested named color doesn't exist in the registry"}),"\n",(0,i.jsx)(n.li,{children:"Named color exists but not for the requested color space"}),"\n",(0,i.jsx)(n.li,{children:"Registry method called without checking if color exists first"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"try {\n    $registry = new VGANamedColors();\n    $values = $registry->getColorValuesByName('nonexistent', RGB::class);\n} catch (NamedColorNotFoundException $e) {\n    echo $e->getMessage();\n    // Output: Named color 'nonexistent' not found in registry.\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"unsupportedcolorspaceexception",children:"UnsupportedColorSpaceException"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Extends:"})," ",(0,i.jsx)(n.code,{children:"\\RuntimeException"}),(0,i.jsx)(n.br,{}),"\n",(0,i.jsx)(n.strong,{children:"Implements:"})," ",(0,i.jsx)(n.code,{children:"ColorExceptionInterface"})]}),"\n",(0,i.jsx)(n.p,{children:"Thrown when a color space operation is attempted on a color space that doesn't support it."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common scenarios:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Attempting to change illuminant on RGB color (RGB doesn't support illuminants)"}),"\n",(0,i.jsx)(n.li,{children:"Attempting to change observer on HSL color (HSL doesn't support observers)"}),"\n",(0,i.jsx)(n.li,{children:"Using CIE-specific methods on non-CIE color spaces"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"try {\n    $rgb = Color::rgb(255, 100, 50);\n    $adapted = $rgb->adaptIlluminant(CIEIlluminant::D50); // RGB doesn't support illuminants\n} catch (UnsupportedColorSpaceException $e) {\n    echo $e->getMessage();\n    // Output: Color space 'rgb' does not support illuminants.\n}\n\n// Solution: Use a CIE color space\n$lab = Color::lab(50, 20, -30);\n$adapted = $lab->adaptIlluminant(CIEIlluminant::D50); // Works!\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"exception-handling-best-practices",children:"Exception Handling Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-register-required-components",children:"1. Register Required Components"}),"\n",(0,i.jsx)(n.p,{children:"Always register color spaces and filters before use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"use Negarity\\Color\\Registry\\ColorSpaceRegistry;\nuse Negarity\\Color\\Filter\\FilterRegistry;\n\n// Register built-in components\nColorSpaceRegistry::registerBuiltIn();\nFilterRegistry::registerBuiltIn();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-check-before-converting",children:"2. Check Before Converting"}),"\n",(0,i.jsx)(n.p,{children:"For custom color spaces, check if conversion is supported:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"if (ColorSpaceRegistry::has('custom-space')) {\n    try {\n        $converted = $color->toCustomSpace();\n    } catch (ConversionNotSupportedException $e) {\n        // Handle conversion failure\n    }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-handle-cie-operations",children:"3. Handle CIE Operations"}),"\n",(0,i.jsx)(n.p,{children:"Check if color space supports CIE operations before using them:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:"if ($color->getColorSpace()::supportsIlluminant()) {\n    $adapted = $color->adaptIlluminant(CIEIlluminant::D50);\n} else {\n    // Convert to a CIE color space first\n    $lab = $color->toLab();\n    $adapted = $lab->adaptIlluminant(CIEIlluminant::D50);\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-validate-input-formats",children:"4. Validate Input Formats"}),"\n",(0,i.jsx)(n.p,{children:"Validate hex strings and other formats before use:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'function createColorFromHex(string $hex): ?Color {\n    try {\n        return Color::hex($hex);\n    } catch (InvalidFormatException $e) {\n        error_log("Invalid hex format: " . $e->getMessage());\n        return null;\n    }\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"logging-and-debugging",children:"Logging and Debugging"}),"\n",(0,i.jsx)(n.p,{children:"The library logs conversion attempts to help with debugging. When a conversion fails, check your error logs for messages like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"[Negarity Color] Conversion attempt failed: lab -> cmyk via direct method. Error: ...\n[Negarity Color] Conversion attempt failed: lab -> cmyk via reverse method. Error: ...\n[Negarity Color] Conversion attempt failed: lab -> cmyk via RGB chain. Error: ...\n"})}),"\n",(0,i.jsx)(n.p,{children:"These logs help identify which conversion paths were attempted and why they failed."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/negarity-color/sv/docs/basics/creating-colors",children:"Creating Colors"})," - How to create colors and handle creation errors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/negarity-color/sv/docs/basics/converting-colors",children:"Converting Colors"})," - Color space conversion and conversion errors"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/negarity-color/sv/docs/references/color-spaces",children:"Color Spaces Reference"})," - Supported color spaces and their requirements"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>c});var o=r(6540);const i={},s=o.createContext(i);function t(e){const n=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);