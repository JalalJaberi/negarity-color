"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6228],{4263(e,r,n){n.r(r),n.d(r,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"extending/filters","title":"Adding Filters","description":"This guide shows you how to create custom filters for color transformations.","source":"@site/docs/extending/filters.md","sourceDirName":"extending","slug":"/extending/filters","permalink":"/negarity-color/sv/docs/extending/filters","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Adding Filters","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Adding Extractors","permalink":"/negarity-color/sv/docs/extending/extractors"}}');var i=n(4848),l=n(8453);const o={title:"Adding Filters",sidebar_position:4},a="Adding Filters",s={},c=[{value:"Overview",id:"overview",level:2},{value:"Step 1: Choose Your Filter Type",id:"step-1-choose-your-filter-type",level:2},{value:"Unary Filter",id:"unary-filter",level:3},{value:"Parameterized Filter",id:"parameterized-filter",level:3},{value:"Binary Filter",id:"binary-filter",level:3},{value:"Step 2: Implement Your Filter",id:"step-2-implement-your-filter",level:2},{value:"Example: Sepia Filter (Unary)",id:"example-sepia-filter-unary",level:3},{value:"Example: Opacity Filter (Parameterized)",id:"example-opacity-filter-parameterized",level:3},{value:"Example: Multiply Filter (Binary)",id:"example-multiply-filter-binary",level:3},{value:"Step 3: Register Your Filter",id:"step-3-register-your-filter",level:2},{value:"Step 4: Use Your Filter",id:"step-4-use-your-filter",level:2},{value:"Handling Different Color Spaces",id:"handling-different-color-spaces",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Advanced: Filter with Configuration",id:"advanced-filter-with-configuration",level:2},{value:"See Also",id:"see-also",level:2}];function p(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"adding-filters",children:"Adding Filters"})}),"\n",(0,i.jsx)(r.p,{children:"This guide shows you how to create custom filters for color transformations."}),"\n",(0,i.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(r.p,{children:"There are three types of filters you can create:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Unary"}),": Operates on a single color"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Parameterized"}),": Operates on a color with a parameter"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Binary"}),": Operates on two colors"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"step-1-choose-your-filter-type",children:"Step 1: Choose Your Filter Type"}),"\n",(0,i.jsx)(r.h3,{id:"unary-filter",children:"Unary Filter"}),"\n",(0,i.jsx)(r.p,{children:"For operations that only need one color:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"use Negarity\\Color\\Filter\\Unary\\UnaryColorFilterInterface;\nuse Negarity\\Color\\ColorInterface;\nuse Negarity\\Color\\Filter\\FilterInterface;\n\nclass MyUnaryFilter implements UnaryColorFilterInterface\n{\n    public function getName(): string\n    {\n        return 'myunary';\n    }\n    \n    public function apply(ColorInterface $color): ColorInterface\n    {\n        // Your transformation logic\n        return $transformedColor;\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"parameterized-filter",children:"Parameterized Filter"}),"\n",(0,i.jsx)(r.p,{children:"For operations that need a parameter:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"use Negarity\\Color\\Filter\\Parameterized\\ParameterizedColorFilterInterface;\nuse Negarity\\Color\\ColorInterface;\nuse Negarity\\Color\\Filter\\FilterInterface;\n\nclass MyParameterizedFilter implements ParameterizedColorFilterInterface\n{\n    public function getName(): string\n    {\n        return 'myparameterized';\n    }\n    \n    public function apply(ColorInterface $color, mixed $value): ColorInterface\n    {\n        // Use $value as your parameter\n        return $transformedColor;\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"binary-filter",children:"Binary Filter"}),"\n",(0,i.jsx)(r.p,{children:"For operations that need two colors:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"use Negarity\\Color\\Filter\\Binary\\BinaryColorFilterInterface;\nuse Negarity\\Color\\ColorInterface;\nuse Negarity\\Color\\Filter\\FilterInterface;\n\nclass MyBinaryFilter implements BinaryColorFilterInterface\n{\n    public function getName(): string\n    {\n        return 'mybinary';\n    }\n    \n    public function apply(ColorInterface $base, ColorInterface $blend): ColorInterface\n    {\n        // Combine $base and $blend\n        return $resultColor;\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"step-2-implement-your-filter",children:"Step 2: Implement Your Filter"}),"\n",(0,i.jsx)(r.h3,{id:"example-sepia-filter-unary",children:"Example: Sepia Filter (Unary)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"<?php\n\nnamespace MyApp\\ColorFilter;\n\nuse Negarity\\Color\\Color;\nuse Negarity\\Color\\ColorInterface;\nuse Negarity\\Color\\Filter\\Unary\\UnaryColorFilterInterface;\n\nfinal class SepiaFilter implements UnaryColorFilterInterface\n{\n    public function getName(): string\n    {\n        return 'sepia';\n    }\n    \n    public function apply(ColorInterface $color): ColorInterface\n    {\n        $rgb = $color->toRGB();\n        \n        $r = $rgb->getR();\n        $g = $rgb->getG();\n        $b = $rgb->getB();\n        \n        // Sepia transformation matrix\n        $newR = min(255, (int)(($r * 0.393) + ($g * 0.769) + ($b * 0.189)));\n        $newG = min(255, (int)(($r * 0.349) + ($g * 0.686) + ($b * 0.168)));\n        $newB = min(255, (int)(($r * 0.272) + ($g * 0.534) + ($b * 0.131)));\n        \n        return Color::rgb($newR, $newG, $newB);\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"example-opacity-filter-parameterized",children:"Example: Opacity Filter (Parameterized)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"<?php\n\nnamespace MyApp\\ColorFilter;\n\nuse Negarity\\Color\\Color;\nuse Negarity\\Color\\ColorInterface;\nuse Negarity\\Color\\Filter\\Parameterized\\ParameterizedColorFilterInterface;\n\nfinal class OpacityFilter implements ParameterizedColorFilterInterface\n{\n    public function getName(): string\n    {\n        return 'opacity';\n    }\n    \n    public function apply(ColorInterface $color, mixed $value): ColorInterface\n    {\n        $alpha = (int)$value;\n        $alpha = max(0, min(255, $alpha)); // Clamp to 0-255\n        \n        return $color->toRGBA($alpha);\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h3,{id:"example-multiply-filter-binary",children:"Example: Multiply Filter (Binary)"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"<?php\n\nnamespace MyApp\\ColorFilter;\n\nuse Negarity\\Color\\Color;\nuse Negarity\\Color\\ColorInterface;\nuse Negarity\\Color\\Filter\\Binary\\BinaryColorFilterInterface;\n\nfinal class MultiplyFilter implements BinaryColorFilterInterface\n{\n    public function getName(): string\n    {\n        return 'multiply';\n    }\n    \n    public function apply(ColorInterface $base, ColorInterface $blend): ColorInterface\n    {\n        if ($base->getColorSpace() !== $blend->getColorSpace()) {\n            throw new \\InvalidArgumentException(\n                'Colors must be in the same color space to multiply.'\n            );\n        }\n        \n        $baseRgb = $base->toRGB();\n        $blendRgb = $blend->toRGB();\n        \n        // Multiply each channel\n        $r = (int)(($baseRgb->getR() * $blendRgb->getR()) / 255);\n        $g = (int)(($baseRgb->getG() * $blendRgb->getG()) / 255);\n        $b = (int)(($baseRgb->getB() * $blendRgb->getB()) / 255);\n        \n        return Color::rgb($r, $g, $b);\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"step-3-register-your-filter",children:"Step 3: Register Your Filter"}),"\n",(0,i.jsxs)(r.p,{children:["Register your filter with the ",(0,i.jsx)(r.code,{children:"FilterRegistry"}),":"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"use Negarity\\Color\\Filter\\FilterRegistry;\nuse MyApp\\ColorFilter\\SepiaFilter;\nuse MyApp\\ColorFilter\\OpacityFilter;\nuse MyApp\\ColorFilter\\MultiplyFilter;\n\n// Register filters\nFilterRegistry::register(new SepiaFilter());\nFilterRegistry::register(new OpacityFilter());\nFilterRegistry::register(new MultiplyFilter());\n"})}),"\n",(0,i.jsx)(r.h2,{id:"step-4-use-your-filter",children:"Step 4: Use Your Filter"}),"\n",(0,i.jsx)(r.p,{children:"Once registered, use your filters:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"use Negarity\\Color\\Color;\n\n$color = Color::rgb(255, 100, 50);\n\n// Unary filter\n$sepia = $color->sepia();\n\n// Parameterized filter\n$semiTransparent = $color->opacity(128);\n\n// Binary filter\n$otherColor = Color::rgb(200, 150, 100);\n$multiplied = $color->multiply($otherColor);\n"})}),"\n",(0,i.jsx)(r.h2,{id:"handling-different-color-spaces",children:"Handling Different Color Spaces"}),"\n",(0,i.jsx)(r.p,{children:"Your filter should handle different color spaces appropriately:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"public function apply(ColorInterface $color, mixed $value): ColorInterface\n{\n    switch ($color->getColorSpace()) {\n        case RGB::class:\n            // Handle RGB\n            break;\n        case HSL::class:\n            // Handle HSL\n            break;\n        case CMYK::class:\n            // Handle CMYK\n            break;\n        default:\n            // Convert to RGB, process, convert back\n            $rgb = $color->toRGB();\n            $processed = $this->processRgb($rgb, $value);\n            return $this->convertBack($processed, $color->getColorSpace());\n    }\n}\n"})}),"\n",(0,i.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Immutability"}),": Always return a new ",(0,i.jsx)(r.code,{children:"Color"})," instance, don't modify the input"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Color Space Support"}),": Handle multiple color spaces or convert appropriately"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Validation"}),": Validate parameters and handle edge cases"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Performance"}),": Consider the performance impact of conversions"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"Documentation"}),": Document what your filter does and its parameters"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"advanced-filter-with-configuration",children:"Advanced: Filter with Configuration"}),"\n",(0,i.jsx)(r.p,{children:"You can create filters that accept configuration:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-php",children:"final class CustomBrightnessFilter implements ParameterizedColorFilterInterface\n{\n    private float $factor;\n    \n    public function __construct(float $factor = 1.0)\n    {\n        $this->factor = $factor;\n    }\n    \n    public function getName(): string\n    {\n        return 'custombrightness';\n    }\n    \n    public function apply(ColorInterface $color, mixed $value): ColorInterface\n    {\n        $adjustment = (int)$value * $this->factor;\n        // Apply adjustment...\n    }\n}\n\n// Register with custom factor\nFilterRegistry::register(new CustomBrightnessFilter(1.5));\n"})}),"\n",(0,i.jsx)(r.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/docs/filters/introduction",children:"Introduction to Filters"})," - Overview of filters"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/docs/references/filters",children:"Filters Reference"})," - Available filters"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"/docs/filters/brightness",children:"Brightness Filter"})," - Example implementation"]}),"\n"]})]})}function d(e={}){const{wrapper:r}={...(0,l.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453(e,r,n){n.d(r,{R:()=>o,x:()=>a});var t=n(6540);const i={},l=t.createContext(i);function o(e){const r=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(l.Provider,{value:r},e.children)}}}]);